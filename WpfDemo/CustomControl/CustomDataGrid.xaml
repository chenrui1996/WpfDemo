<UserControl
    x:Class="WpfDemo.CustomControl.CustomDataGrid"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:behaviors="clr-namespace:MaterialDesignThemes.Wpf.Behaviors;assembly=MaterialDesignThemes.Wpf"
    xmlns:converters="clr-namespace:MaterialDesignThemes.Wpf.Converters;assembly=MaterialDesignThemes.Wpf"
    xmlns:customcontrolviewmodels="clr-namespace:WpfDemo.ViewModels.CustomControlViewModels"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:internal="clr-namespace:MaterialDesignThemes.Wpf.Internal;assembly=MaterialDesignThemes.Wpf"
    xmlns:local="clr-namespace:WpfDemo.CustomControl"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:wpf="clr-namespace:MaterialDesignThemes.Wpf;assembly=MaterialDesignThemes.Wpf"
    d:DataContext="{d:DesignInstance Type=customcontrolviewmodels:CustomDataGridViewModel}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <!--
        ItemsSource="{Binding Items}" 默认是绑定到 DataGrid.DataContext.Items，而不是控件自身的 Items 属性。
        需要使用 RelativeSource 绑定到控件自身
    -->
    <DataGrid
        x:Name="DataGrid"
        CanUserAddRows="False"
        DataContextChanged="DataGrid_DataContextChanged"
        ItemsSource="{Binding Items, RelativeSource={RelativeSource AncestorType=UserControl}}"
        SelectionMode="Extended"
        SelectionUnit="FullRow" />
</UserControl>
